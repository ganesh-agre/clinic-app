import{a as E,b as w,c,e as S,f as j,h as a}from"./chunk-MAJ627U5.js";import{b as s,c as y}from"./chunk-UU6YDMOF.js";import"./chunk-Z6GYEI4G.js";import{A as H,Ab as R,Ha as C,M as i,Q as g,R as p,Xa as I,ba as b,ca as A,k as v,w as h}from"./chunk-25WXJ2TH.js";import"./chunk-2VMXMS7J.js";var k=()=>{let t=p(a),e=p(c);return t.isAuthenticated()?!0:(e.navigate(["/login"]),!1)};var x=()=>{let t=p(a),e=p(c);return t.isAuthenticated()?(e.navigate(["/dashboard"]),!1):!0};var F=[{path:"login",canActivate:[x],loadComponent:()=>import("./chunk-TFF25ZWC.js").then(t=>t.LoginComponent)},{path:"dashboard",canActivate:[k],loadChildren:()=>import("./chunk-PIW7ICGS.js").then(t=>t.dashboardRoutes)},{path:"",redirectTo:"login",pathMatch:"full"},{path:"**",redirectTo:"login"}];var m=class t{intercept(e,r){let o=localStorage.getItem("authToken");if(o){let n=e.clone({headers:e.headers.set("Authorization",`Bearer ${o}`)});return r.handle(n)}return r.handle(e)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=i({token:t,factory:t.\u0275fac})};var l=class t{constructor(e){this.authService=e}intercept(e,r){return r.handle(e).pipe(h(o=>{let n="An error occurred";return o.error instanceof ErrorEvent?n=o.error.message:(n=`Error Code: ${o.status}
Message: ${o.message}`,(o.status===401||o.status===403)&&this.authService.logout()),console.error(n),v(()=>new Error(n))}))}static \u0275fac=function(r){return new(r||t)(g(a))};static \u0275prov=i({token:t,factory:t.\u0275fac})};var u=class t{constructor(){}intercept(e,r){return console.log("Request started:",e.url),r.handle(e).pipe(H(()=>{console.log("Request completed:",e.url)}))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=i({token:t,factory:t.\u0275fac})};var O={providers:[b(),R({eventCoalescing:!0}),S(F,j()),y(),{provide:s,useClass:m,multi:!0},{provide:s,useClass:l,multi:!0},{provide:s,useClass:u,multi:!0}]};var f=class t{title=A("Clinic Management System");static \u0275fac=function(r){return new(r||t)};static \u0275cmp=C({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(r,o){r&1&&I(0,"router-outlet")},dependencies:[w],encapsulation:2})};E(f,O).catch(t=>console.error(t));
